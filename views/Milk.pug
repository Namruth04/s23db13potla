extends layout

block content
  h1= title
  - let results = result
  - let createins = `createInstance(\"/milk/create\")`
  button.btn(class="btn-primary ml-1", onclick=createins) Create
  div.container-fluid
    div.row
      each milk,index in results 
       - let destination = `dispatch(\"/milk/update?id=${milk._id}\")`
       - let detailins = `detailInstance(\"/milk/detail?id=${milk._id}\")`
       - let deleteins = `deleteInstance(\"/milk/delete?id=${milk._id}\")`           
       div.col-sm-2(onclick=`buy(${index})`) #{milk.name}
       div.col-sm-2(onclick=`buy(${index})`) #{milk.type}
       div.col-sm-2(onclick=`buy(${index})`) #{milk.price} 
       button.btn(class="btn-primary ml-1", onclick=destination) Update
       button.btn(class="btn-primary ml-1", onclick=detailins) Detail
       button.btn(class="btn-primary ml-1", onclick=deleteins) Delete     
       br
       hr

  script. 
      function buy(index)
      {
        alert(`you purchased Item ${index+1}`)
      }  

  script.
      function dispatch(path)
      {
        window.location.href=path
      }
  script.
      function createInstance(path)
      {
        window.location.href=path
      }
  script.
      function detailInstance(path)
      {
        window.location.href=path
      }
  script.
      function deleteInstance(path)
      {
        window.location.href=path
      }



  